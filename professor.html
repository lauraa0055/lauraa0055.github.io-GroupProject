<!--Page containing information for Professor 1--->

<!Doctype html>

<html>

<head>
    <link rel="stylesheet" href="professor.css">

    <!--Bootstrap-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <!--JavaScript Bootstrap-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

</head>

<body>

    <!--Container containing everything at the top-->
    <div class = "container">

        <!--div which will hold professors image, name, and other classes they lecture-->
        <div class = "row">
            <div class = "col-sm-3" id = "professorGenericInfo">
                <div class = "align-items-end" style="background:white">
                    <div class = "row" style = "background: white">
                        <div id = "backToSearchPage" style = "margin-top: 50px;">
                            <button style = "background:transparent; border:none; cursor:pointer;  margin-bottom: 20px">
                                <a href="search.html">
                                    <div>
                                        <img src = "bullDog.png" style = "height: 80px">
                                    </div>
                                </a>
                            </button>
                        </div>

                        <h3 id = "professorName" style = "background: white">Brian Crain</h3>
        
                        <div class="dropdown" id = "otherClassesDropdown">
                            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenu2" data-bs-toggle="dropdown" aria-expanded="false">
                              Other Courses Taught
                            </button>
                            <ul class="dropdown-menu" aria-labelledby="dropdownMenu2">
                              <li><button class="dropdown-item" type="button">CISC 3130</button></li>
                              <li><button class="dropdown-item" type="button">CISC 3310</button></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class = "col-md" id = "courseInfo"> 
    
                <!--Assignments and Attendance-->
                <div class = "row" id = "assignmentsAndAttendance">

                    <div class = "col" id = "assignments" style = "background: grey; border-style: solid">
                        <h4>Assignments: </h4>
                        <p>There will be frequent assignments and quizzes during the semester covering the topics discussed in class, from
                            the textbook. Some Important points to remember: 
                        </p>
                        <ul>
                            <li>Assignment solutions must be legible: Difficult-to-read solutions may be marked off or may not graded entirely.</li>
                            <li>Typed assignments are required. Use either MS word, Google Docs, or Libre Office suite to type your assignment.</li>
                            <li>No late assignments accepted</li>
                        </ul>
                        
                    </div>

                    <div class = "col" id = "attendance" style = "background: grey; border-style: solid">
                        <h4>Attendance: </h4>
                        <p>Attending class is mandatory and attendance will be taken at the beginning of every morning. 
                            Students arriving after class has begun will recieve half credit for attendance that day. This
                            rule does not apply to absences due to religious observances, as described in the Undergraduate Bulletin.
                        </p>
                    </div>

                </div>

                <!--Class gradings and other comments-->
                <div class = "row" id = "gradingsAndOther">
                    <div class = "col" id = "classGradings" style = "background:grey; border-style: solid">
                        <h4>Class Gradings: </h4>
                        <h6>Attendance and Class Participation: 10%</h6>
                        <h6>Midterm: 20%</h6>
                        <h6>Final Exam: 30%</h6>
                        <h6>Assignments & Quiz: 40%</h6>
                    </div>

                    <div class = "col" id = "otherComments" style = "background:grey; border-style: solid">
                        <p>Students should prepapre to spend at least 2-6 hours per assignment on this material.
                            This does not include studying for exams. If you do not have enough time, do not
                            take this course. Do not kid yourself! 
                            <br>
                            Each of the areas of study will be reviewed in assignments and asked in class quiz.
                            The frequency of assignments is one in a month and quiz is one in two month. You will 
                            recieve an email from me with information and possibly additional requirements for each assignment 
                            . Please be sure to read the instructions carefully before you begin the assignment.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!--Ratings-->
        <div class  = "row">
            <h4 style = "margin-top: 20px;border-bottom: 3px solid black;">Ratings</h4>

            <div class = "col-sm-3">
                <div class = "align-items-end" id = "ratings-descriptors">
                    <div class = "row" style = "border-style: solid;">
                       <h5>Course Rating</h5>
                    </div>

                    <div class = "row" style = "border-style: solid;margin-top: 41px;">
                        <h5>Difficulty</h5>
                     </div>

                     <div class = "row" style = "border-style: solid; margin-top: 42px;">
                        <h5>Course/Work Load</h5>
                     </div>

                     <div class = "row" style = "border-style: solid; margin-top: 43px;">
                        <h5>Professor Rating</h5>
                     </div>

                </div>
            </div>

            <!--Actual Progress Bars-->
            <div class = "col">
                <div class="progress">
                    <div class="progress-bar" role="progressbar" style="width: 30%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100" id = "courseRatingsProgressBar">
                        30% 
                    </div>
                </div>

                <div class="progress">
                    <div class="progress-bar" role="progressbar" style="width: 20%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100" id = "courseDifficultyProgressBar">
                        20%
                    </div>
                </div>

                <div class="progress">
                    <div class="progress-bar" role="progressbar" style="width: 40%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100" id = "courseLoadProgressBar">
                        40%
                    </div>
                </div>

                <div class="progress">
                    <div class="progress-bar" role="progressbar" style="width: 80%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100" id = "courseProfessorProgressBar">
                        80%
                    </div>
                </div>
            </div>
        </div>

        <!--Student Comments-->
        <h4 style  = "border-bottom: 3px solid black; margin-top: 20px;">Student Comments</h4>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th scope="col">NAMES</th>
                    <th scope = "col">COMMENTS</th>
                </tr>
            </thead>
            <tbody id = "studentTable">
              <tr>
                    <th scope="row" id = "student1">John Doe</th>
                    <td id = "commentFromStudent1">I took this professor before and they were ok. The workload isn't that bad
                        but you do need to pay attention in class. Sometimes they like to give
                        pop quizzes. 
                    </td>
              </tr>
              <tr>
                    <th scope="row" id = "student2">Samantha Smith</th>
                    <td id = "commentFromStudent2">Textbooks are technically not required as the professor attempts to explain everything
                        in class. I mean everything, so be prepared to take a lot of notes. 
                    </td>
              </tr>
            </tbody>
          </table>


        <!--Forums-->
        <div class = "row" id = "forums">
            <h4 style = "border-bottom: 3px solid black;">Rate The Course</h4>

            <!--Rate the Course-->
            <div style  = "border: 1px solid black">
                <h6>Rate The Course</h6>

                <!--Actual Radios-->
                <div class = "btn-group-wrap">
                    <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                        <input type="radio" class="btn-check" name="rateCourse" id="btnradio1.2" autocomplete="off" value  = "1" checked>
                        <label class="btn btn-outline-secondary" for="btnradio1.2">1</label>
                      
                        <input type="radio" class="btn-check" name="rateCourse" id="btnradio2.2" autocomplete="off" value = "2">
                        <label class="btn btn-outline-secondary" for="btnradio2.2">2</label>
                      
                        <input type="radio" class="btn-check" name="rateCourse" id="btnradio3.2" autocomplete="off" value = "3">
                        <label class="btn btn-outline-secondary" for="btnradio3.2">3</label>
    
                        <input type="radio" class="btn-check" name="rateCourse" id="btnradio4.2" autocomplete="off" value = "4">
                        <label class="btn btn-outline-secondary" for="btnradio4.2">4</label>
    
                        <input type="radio" class="btn-check" name="rateCourse" id="btnradio5.2" autocomplete="off" value = "5">
                        <label class="btn btn-outline-secondary" for="btnradio5.2">5</label>
                    </div>
                </div>

                <div id = "label-wrapping">
                    <span style = "float: left">1-Awful</span>
                    <span style = "float: right">5-Awesome</span>
                </div>
            </div>

            <!--Rate the difficulty-->
            <div style  = "border: 1px solid black">
                <h6>Rate The Class Difficulty</h6>

                <!--Actual Radios-->
                <div class = "btn-group-wrap">
                    <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                        <input type="radio" class="btn-check" name="rateDifficulty" id="btnradio1.4" autocomplete="off" checked>
                        <label class="btn btn-outline-secondary" for="btnradio1.4">1</label>
                      
                        <input type="radio" class="btn-check" name="rateDifficulty" id="btnradio2.4" autocomplete="off">
                        <label class="btn btn-outline-secondary" for="btnradio2.4">2</label>
                      
                        <input type="radio" class="btn-check" name="rateDifficulty" id="btnradio3.4" autocomplete="off">
                        <label class="btn btn-outline-secondary" for="btnradio3.4">3</label>
    
                        <input type="radio" class="btn-check" name="rateDifficulty" id="btnradio4.4" autocomplete="off">
                        <label class="btn btn-outline-secondary" for="btnradio4.4">4</label>
    
                        <input type="radio" class="btn-check" name="rateDifficulty" id="btnradio5.4" autocomplete="off">
                        <label class="btn btn-outline-secondary" for="btnradio5.4">5</label>
                    </div>
                </div>

                <div id = "label-wrapping">
                    <span style = "float: left">1-Not that Difficult</span>
                    <span style = "float: right">5-Very Difficult</span>
                </div>
            </div>
 
            <!--Rate the courseload-->
            <div style  = "border: 1px solid black">
                <h6>Rate The Course Load</h6>

                <!--Actual Radios-->
                <div class = "btn-group-wrap">
                    <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                        <input type="radio" class="btn-check" name="rateCourseLoad" id="btnradio1.3" autocomplete="off" checked>
                        <label class="btn btn-outline-secondary" for="btnradio1.3">1</label>
                      
                        <input type="radio" class="btn-check" name="rateCourseLoad" id="btnradio2.3" autocomplete="off">
                        <label class="btn btn-outline-secondary" for="btnradio2.3">2</label>
                      
                        <input type="radio" class="btn-check" name="rateCourseLoad" id="btnradio3.3" autocomplete="off">
                        <label class="btn btn-outline-secondary" for="btnradio3.3">3</label>
    
                        <input type="radio" class="btn-check" name="rateCourseLoad" id="btnradio4.3" autocomplete="off">
                        <label class="btn btn-outline-secondary" for="btnradio4.3">4</label>
    
                        <input type="radio" class="btn-check" name="rateCourseLoad" id="btnradio5.3" autocomplete="off">
                        <label class="btn btn-outline-secondary" for="btnradio5.3">5</label>
                    </div>
                </div>

                <div id = "label-wrapping">
                    <span style = "float: left">1-Not much load</span>
                    <span style = "float: right">5-A lot of load</span>
                </div>
            </div>

            <!--Rate the Professor-->
            <div style  = "border: 1px solid black">
                <h6>Rate The Professor</h6>

                <!--Actual Radios-->
                <div class = "btn-group-wrap">
                    <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                        <input type="radio" class="btn-check" name="rateProfessor" id="btnradio1.1" autocomplete="off" checked>
                        <label class="btn btn-outline-secondary" for="btnradio1.1">1</label>
                      
                        <input type="radio" class="btn-check" name="rateProfessor" id="btnradio2.1" autocomplete="off">
                        <label class="btn btn-outline-secondary" for="btnradio2.1">2</label>
                      
                        <input type="radio" class="btn-check" name="rateProfessor" id="btnradio3.1" autocomplete="off">
                        <label class="btn btn-outline-secondary" for="btnradio3.1">3</label>
    
                        <input type="radio" class="btn-check" name="rateProfessor" id="btnradio4.1" autocomplete="off">
                        <label class="btn btn-outline-secondary" for="btnradio4.1">4</label>
    
                        <input type="radio" class="btn-check" name="rateProfessor" id="btnradio5.1" autocomplete="off">
                        <label class="btn btn-outline-secondary" for="btnradio5.1">5</label>
                    </div>
                </div>

                <div id = "label-wrapping">
                    <span style = "float: left">1-Awful</span>
                    <span style = "float: right">5-Awesome</span>
                </div>
            </div>

            <!--Other Comments-->
            <div style  = "border: 1px solid black;">
                <h6>Any Other Comments!</h6>
                <div class = "input-group" style = "margin-bottom: 20px; margin-top: 10px;">
                    <span class="input-group-text">Your Name</span>
                    <input type="text" aria-label="StudentName" class="form-control" id = "nameOfStudentInput">
                </div>
                <textarea class="form-control" aria-label="With textarea" style="margin-bottom: 10px" id = "commentOfStudentInput"></textarea>
            </div>

            <!--Submit button-->
            <div style  = "text-align: center; margin-top: 10px;">
                <button onClick = "updateAll()" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#submitSuccessful">Submit Feedback</button>
            </div>

            <!-- Modal telling user that their information has been submitted -->
            <div class="modal fade" id="submitSuccessful" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Submission Recieved!</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>

                        <div class="modal-body">
                            <p>Your Information has been successfully submitted!</p>
                        </div>
                        
                        <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <div id = "backToSearchPage" style = "margin-top: 50px;">
            <button style = "background:transparent; border:none; float:right; cursor:pointer;  margin-bottom: 20px">
                <a href="search.html">
                    <div>
                        <img src = "bullDog.png" style = "height: 60px">
                    </div>
                </a>
            </button>
        </div>

    </div>


    <script>
        //course ratings
        //calculate the average and then make the bar width change based on that
        //average = average + ((value - average) / nValues)
        //var maxNumRating = 5;

        //getting all the progressBars
        var courseRatingsProgressBar = document.getElementById('courseRatingsProgressBar');
        var courseDifficultyRatingsProgressBar = document.getElementById('courseDifficultyProgressBar');
        var courseLoadRatingsProgressBar = document.getElementById('courseLoadProgressBar');
        var courseProfessorRatingsProgressBar = document.getElementById('courseProfessorProgressBar');
        

        //setting up variables
        var denominatorCourse = 100, denominatorDifficulty = 100, denominatorLoad = 100, denominatorProfessor = 100;
        var currentCourseRatingsAverage = parseInt(courseRatingsProgressBar.style.width)/denominatorCourse;
        var currentCourseDifficultyRatingsAverage = parseInt(courseDifficultyRatingsProgressBar.style.width)/denominatorDifficulty;
        var currentCourseLoadRatingsAverage = parseInt(courseLoadRatingsProgressBar.style.width)/denominatorLoad;
        var currentProfessorRatingsAverage = parseInt(courseProfessorRatingsProgressBar.style.width)/denominatorProfessor;
        var valuePicked;

        var studentTable = document.getElementById('studentTable');
        
        //setting up radios
        var courseRatingRadios = document.getElementsByName('rateCourse');
        var difficultyRatingRadios = document.getElementsByName('rateDifficulty');
        var courseLoadRatingRadios = document.getElementsByName('rateCourseLoad');
        var professorRatingRadios = document.getElementsByName('rateProfessor');


        //calls all of the functions
        function updateAll(){
            console.log("# of column with student names children including labels" + studentTable.children.length);
            updateCourseRatings();
            updateCourseDifficulty();
            updateCourseLoad();
            updateProfessor();
            updateComments();
        }

        //calculates course ratings
        //calls moveProgressBar to update the corresponding progressBar
        function updateCourseRatings(){
            for(var i = 0, length = courseRatingRadios.length; i < length; i++){
                if(courseRatingRadios[i].checked){

                    for(var j = 1; j <= 5; j++){
                        if(courseRatingRadios[i].value == j)
                            valuePicked = j;
                    }
                    var numerator = valuePicked - currentCourseRatingsAverage;
                    denominatorCourse++;
                    if(currentCourseRatingsAverage != 1){

                        currentCourseRatingsAverage = currentCourseRatingsAverage + (numerator/denominatorCourse);
                        moveProgressBar(courseRatingsProgressBar, currentCourseRatingsAverage);
                    }

                    break;
                }
            }
        }
        
        //calculates course difficulty ratings
        //calls moveProgressBar to update the corresponding progressBar
        function updateCourseDifficulty(){
            for(var i = 0, length = difficultyRatingRadios.length; i < length; i++){
                if(difficultyRatingRadios[i].checked){

                    for(var j = 1; j <= 5; j++){
                        if(difficultyRatingRadios[i].value == j)
                            valuePicked = j;
                    }
                    var numerator = valuePicked - currentCourseDifficultyRatingsAverage;
                    denominatorDifficulty++;
                    if(currentCourseDifficultyRatingsAverage != 1){

                        currentCourseDifficultyRatingsAverage = currentCourseDifficultyRatingsAverage + (numerator/denominatorDifficulty);
                        moveProgressBar(courseDifficultyRatingsProgressBar, currentCourseDifficultyRatingsAverage);
                    }

                    break;
                }
            }
        }
        
        //calculates course load ratings
        //calls moveProgressBar to update the corresponding progressBar
        function updateCourseLoad(){
            for(var i = 0, length = courseLoadRatingRadios.length; i < length; i++){
                if(courseLoadRatingRadios[i].checked){

                    for(var j = 1; j <= 5; j++){
                        if(courseLoadRatingRadios[i].value == j)
                            valuePicked = j;
                    }
                    var numerator = valuePicked - currentCourseLoadRatingsAverage;
                    denominatorLoad++;
                    if(currentCourseLoadRatingsAverage != 1){

                        currentCourseLoadRatingsAverage = currentCourseLoadRatingsAverage + (numerator/denominatorLoad);
                        moveProgressBar(courseLoadRatingsProgressBar, currentCourseLoadRatingsAverage);
                    }

                    break;
                }
            }
        }

        //calculates course professor ratings
        //calls moveProgressBar to update the corresponding progressBar
        function updateProfessor(){
            for(var i = 0, length = professorRatingRadios.length; i < length; i++){
                if(professorRatingRadios[i].checked){

                    for(var j = 1; j <= 5; j++){
                        if(professorRatingRadios[i].value == j)
                            valuePicked = j;
                    }
                    var numerator = valuePicked - currentProfessorRatingsAverage;
                    denominatorProfessor++;
                    if(currentProfessorRatingsAverage != 1){

                        currentProfessorRatingsAverage = currentProfessorRatingsAverage + (numerator/denominatorProfessor);
                        moveProgressBar(courseProfessorRatingsProgressBar, currentProfessorRatingsAverage);
                    }

                    break;
                }
            }
        }

        //moveProgressBar
        //move the actual progress bars 
        //parameters: String which will choose which progress bar to move
        function moveProgressBar(progressBarName, updateTo){

            var currentWidth = progressBarName.style.width;
            var currentWidthLabel = progressBarName.innerHTML;

           updateTo = Math.round(updateTo * 100);

           progressBarName.style.width = updateTo + "%";
           progressBarName.innerHTML = updateTo + "%";

        }


        
        function updateComments(){

            //getting the content of the name, and text area
            var inputName = document.getElementById('nameOfStudentInput').value;
            var inputComment = document.getElementById('commentOfStudentInput').value;


            //everything the row needs

            //for table
            //th
            //scope = "row"
            //id = "student" + num
            //td

            console.log(inputName);
            console.log(inputComment);

            //number the student is
            var numStudent = studentTable.children.length;
            var studentId = "student" + numStudent; 
            var commentId = "commentFromStudent" + numStudent;
            
            //table row
            var studentRow = document.createElement('tr');

            //table head
            var studentHead = document.createElement('th');
            studentHead.setAttribute("scope", "row");
            studentHead.setAttribute("id", studentId);

            var studentComment = document.createElement('td');
            studentComment.setAttribute("id", commentId);

            //putting input name
            studentHead.innerHTML = inputName;

            //putting input comment
            studentComment.innerHTML = inputComment;

            //appending head and content to row
            studentRow.appendChild(studentHead);
            studentRow.appendChild(studentComment);

            //appending rows to parent column
            studentTable.appendChild(studentRow);

        }

    </script>

</body>

</html>